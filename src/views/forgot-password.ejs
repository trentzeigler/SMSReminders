<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password - SMS Reminders</title>
    <link rel="stylesheet" href="/styles.css">
</head>

<body>
    <div class="auth-container">
        <div class="auth-card">
            <h1 class="auth-title">Reset Password</h1>
            <p class="auth-subtitle">Enter your email to receive a verification code via SMS</p>

            <!-- Step 1: Request OTP -->
            <form id="requestOtpForm" class="auth-form">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" required autocomplete="email">
                </div>

                <div id="errorMessage" class="error-message" style="display: none;"></div>

                <button type="submit" class="btn-primary" id="requestOtpButton">
                    <span id="requestOtpText">Send Verification Code</span>
                    <span id="requestOtpSpinner" class="spinner" style="display: none;"></span>
                </button>
            </form>

            <!-- Step 2: Verify OTP and Reset Password -->
            <form id="resetPasswordForm" class="auth-form" style="display: none;">
                <div class="form-group">
                    <label for="otp">Verification Code</label>
                    <input type="text" id="otp" name="otp" required maxlength="6" placeholder="Enter 6-digit code">
                </div>

                <div class="form-group">
                    <label for="newPassword">New Password</label>
                    <input type="password" id="newPassword" name="newPassword" required autocomplete="new-password">
                    <small>Min 8 characters, 1 uppercase, 1 lowercase, 1 number</small>
                </div>

                <div class="form-group">
                    <label for="confirmNewPassword">Confirm New Password</label>
                    <input type="password" id="confirmNewPassword" name="confirmNewPassword" required
                        autocomplete="new-password">
                </div>

                <div id="resetErrorMessage" class="error-message" style="display: none;"></div>

                <button type="submit" class="btn-primary" id="resetPasswordButton">
                    <span id="resetPasswordText">Reset Password</span>
                    <span id="resetPasswordSpinner" class="spinner" style="display: none;"></span>
                </button>

                <button type="button" class="btn-secondary" id="resendOtpButton" style="margin-top: 12px; width: 100%;">
                    Resend Code
                </button>
            </form>

            <p class="auth-footer">
                Remember your password? <a href="/login">Sign in</a>
            </p>
        </div>
    </div>

    <script src="/forgot-password.js"></script>
</body>

</html>